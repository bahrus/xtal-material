import{BraKet}from"./node_modules/bra-ket/bra-ket.js";import{qsa}from"./node_modules/templ-mount/templ-mount.js";export class AdoptAChild extends BraKet{constructor(){super();this._rootElement="div";this._targetElementSelector="[target]"}get dynamicSlots(){return["slot"]}postAdopt(){}addTemplate(){console.log("addTemplate");super.addTemplate();if(!this.dynamicSlots)return;this.dynamicSlots.forEach(slotSelector=>{qsa(slotSelector,this.shadowRoot).forEach(slot=>{slot.addEventListener("slotchange",()=>{slot.assignedNodes().forEach(node=>{const targetEl=this.shadowRoot.querySelector(this._targetElementSelector);if(node.disabled&&typeof("undefined"!==node.target)){node.target=targetEl;node.removeAttribute("disabled")}else{targetEl.appendChild(node.cloneNode(!0));if(node.parentElement){node.parentElement.removeChild(node)}else{if(1===node.nodeType){node.innerHTML="";node.style.display="none";node.removeAttribute("id")}}}});this.postAdopt()})})})}}