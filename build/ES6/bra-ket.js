import{getESModuleUrl}from'./xtal-temp-workaround.js';import{loadTemplate}from'./templ-mount.js';export function getBasePath(a){let b;const c=self[lispToSnakeCase(a)];if(c)b=c.href;else{const a=document.currentScript;b=a?a.src:getESModuleUrl()}return b.split('/').slice(0,-1).join('/')}export function lispToSnakeCase(a){return a.split('-').join('_')}export class BraKet extends HTMLElement{static get is(){return'bra-ket'}get tn(){return this.tagName.toLowerCase()}looksLike(){}get dynamicSlots(){return null}get CE(){return this._ce||(this._ce=customElements.get(this.tn)),this._ce}constructor(){super(),Object.getPrototypeOf(this)===BraKet.prototype||(this.attachShadow({mode:'open'}),this.addTemplate())}customizeClone(){}initShadowRoot(){}addTemplate(){this.CE._template||(this.CE._template={});const a=this.looksLike()||this.tn;if(!this.CE._template[a]){lispToSnakeCase(a)+'_template';this.CE._template[a]=self[lispToSnakeCase(a)+'_template']}const b=this.CE._template[a].content.cloneNode(!0);this.customizeClone(b),this.shadowRoot.appendChild(b),this.initShadowRoot()}}export function initCE(a,b,c,d){if(customElements.get(a))return;const e=d||a,f=lispToSnakeCase(e)+'_template';let g=self[f];g||(g=document.createElement('template'),g.id=f,g.dataset.src=c+'/'+e+'.html',document.head.appendChild(g)),loadTemplate(g,{cls:b,sharedTemplateTagName:d,tagName:a})}export const basePath=getBasePath(BraKet.is);customElements.define(BraKet.is,BraKet);