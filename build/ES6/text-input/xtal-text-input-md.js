import{BraKet,initCE,basePath}from'../bra-ket.js';export class XtalTextInputMD extends BraKet{static get is(){return'xtal-text-input-md'}customizeClone(a){super.customizeClone(a);const b=this._inputElement=a.querySelector('input');b.setAttribute('type',this.getType());for(let c=0,d=this.attributes.length;c<d;c++){const a=this.attributes[c];'type'===a.name||b.setAttribute(a.name,a.value)}}initShadowRoot(){this.addInputListener(),this._inputElement.addEventListener('change',()=>{let a=this._inputElement;a&&a.matches('.form-element-field')&&a.classList[a.value?'add':'remove']('-hasvalue')})}get value(){return this._inputElement.value}set value(a){this._inputElement.value=a}getType(){return this.constructor.is.split('-')[1]}addEventListener(a,b){a.endsWith('-changed')?super.addEventListener(a,b):this._inputElement.addEventListener(a,b)}addInputListener(){this._inputElement.addEventListener('input',()=>{this.emitEvent()})}emitEvent(){const a=new CustomEvent('value-changed',{detail:{value:this._inputElement.value},bubbles:!0,composed:!1});this.dispatchEvent(a)}_upgradeProperties(a){a.forEach((a)=>{if(this.hasOwnProperty(a)){let b=this[a];delete this[a],this[a]=b}})}connectedCallback(){this._upgradeProperties(['value']),this.addMutationObserver()}addMutationObserver(){this._observer=new MutationObserver((a)=>{a.forEach((a)=>{this._inputElement[a.attributeName]=this[a.attributeName]})}),this._observer.observe(this,{attributes:!0})}disconnectedCallback(){this._observer.disconnect()}}initCE(XtalTextInputMD.is,XtalTextInputMD,basePath+'/text-input');export class XtalEmailInputMD extends XtalTextInputMD{static get is(){return'xtal-email-input-md'}looksLike(){return XtalTextInputMD.is}}initCE(XtalEmailInputMD.is,XtalEmailInputMD,basePath+'/text-input',XtalTextInputMD.is);