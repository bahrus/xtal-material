import{BraKet,initCE,basePath}from"../bra-ket.js";export var XtalTextInputMD=function(_BraKet){babelHelpers.inherits(XtalTextInputMD,_BraKet);function XtalTextInputMD(){babelHelpers.classCallCheck(this,XtalTextInputMD);return babelHelpers.possibleConstructorReturn(this,(XtalTextInputMD.__proto__||Object.getPrototypeOf(XtalTextInputMD)).apply(this,arguments))}babelHelpers.createClass(XtalTextInputMD,[{key:"customizeClone",value:function customizeClone(clonedNode){babelHelpers.get(XtalTextInputMD.prototype.__proto__||Object.getPrototypeOf(XtalTextInputMD.prototype),"customizeClone",this).call(this,clonedNode);var inputEl=this._inputElement=clonedNode.querySelector("input");inputEl.setAttribute("type",this.getType());for(var i=0,ii=this.attributes.length,attrib;i<ii;i++){attrib=this.attributes[i];if("type"===attrib.name)continue;inputEl.setAttribute(attrib.name,attrib.value)}}},{key:"initShadowRoot",value:function initShadowRoot(){var _this=this;this.addInputListener();this._inputElement.addEventListener("change",function(){var element=_this._inputElement;if(element&&element.matches(".form-element-field")){element.classList[element.value?"add":"remove"]("-hasvalue")}})}},{key:"getType",value:function getType(){return this.constructor.is.split("-")[1]}},{key:"addInputListener",value:function addInputListener(){var _this2=this;this._inputElement.addEventListener("input",function(){_this2.emitEvent()})}},{key:"emitEvent",value:function emitEvent(){var newEvent=new CustomEvent("value-changed",{detail:{value:this._inputElement.value},bubbles:!0,composed:!1});this.dispatchEvent(newEvent)}},{key:"_upgradeProperties",value:function _upgradeProperties(props){var _this3=this;props.forEach(function(prop){if(_this3.hasOwnProperty(prop)){var value=_this3[prop];delete _this3[prop];_this3[prop]=value}})}},{key:"connectedCallback",value:function connectedCallback(){this._upgradeProperties(["value"]);this.addMutationObserver()}},{key:"addMutationObserver",value:function addMutationObserver(){var _this4=this;this._observer=new MutationObserver(function(mutationsList){mutationsList.forEach(function(mutation){_this4._inputElement[mutation.attributeName]=_this4[mutation.attributeName]})});this._observer.observe(this,{attributes:!0})}},{key:"disconnectedCallback",value:function disconnectedCallback(){this._observer.disconnect()}},{key:"value",get:function get(){return this._inputElement.value},set:function set(val){this._inputElement.value=val}}],[{key:"is",get:function get(){return"xtal-text-input-md"}}]);return XtalTextInputMD}(BraKet);initCE(XtalTextInputMD.is,XtalTextInputMD,basePath+"/text-input");export var XtalEmailInputMD=function(_XtalTextInputMD){babelHelpers.inherits(XtalEmailInputMD,_XtalTextInputMD);function XtalEmailInputMD(){babelHelpers.classCallCheck(this,XtalEmailInputMD);return babelHelpers.possibleConstructorReturn(this,(XtalEmailInputMD.__proto__||Object.getPrototypeOf(XtalEmailInputMD)).apply(this,arguments))}babelHelpers.createClass(XtalEmailInputMD,[{key:"looksLike",value:function looksLike(){return XtalTextInputMD.is}}],[{key:"is",get:function get(){return"xtal-email-input-md"}}]);return XtalEmailInputMD}(XtalTextInputMD);initCE(XtalEmailInputMD.is,XtalEmailInputMD,basePath+"/text-input",XtalTextInputMD.is);