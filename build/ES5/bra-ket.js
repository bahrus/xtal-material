import{getESModuleUrl}from"./xtal-temp-workaround.js";import{loadTemplate}from"./templ-mount.js";export function getBasePath(tagName){var path,link=self[lispToSnakeCase(tagName)];if(link){path=link.href}else{var cs=document.currentScript;if(cs){path=cs.src}else{path=getESModuleUrl()}}return path.split("/").slice(0,-1).join("/")}export function lispToSnakeCase(s){return s.split("-").join("_")}export function BraKetMixin(superClass){return function(_superClass){babelHelpers.inherits(_class,_superClass);function _class(){babelHelpers.classCallCheck(this,_class);return babelHelpers.possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}babelHelpers.createClass(_class,[{key:"looksLike",value:function looksLike(){}},{key:"customizeClone",value:function customizeClone(){}},{key:"initShadowRoot",value:function initShadowRoot(){}},{key:"addTemplate",value:function addTemplate(){this.attachShadow({mode:"open"});if(!this.CE._template){this.CE._template={}}var tn=this.looksLike()||this.tn;if(!this.CE._template[tn]){lispToSnakeCase(tn)+"_template";this.CE._template[tn]=self[lispToSnakeCase(tn)+"_template"]}var clonedNode=this.CE._template[tn].content.cloneNode(!0);this.customizeClone(clonedNode);this.shadowRoot.appendChild(clonedNode);this.initShadowRoot()}},{key:"tn",get:function get(){return this.tagName.toLowerCase()}},{key:"dynamicSlots",get:function get(){return null}},{key:"CE",get:function get(){if(!this._ce)this._ce=customElements.get(this.tn);return this._ce}}],[{key:"is",get:function get(){return"bra-ket"}}]);return _class}(superClass)}export var BraKet=function(_BraKetMixin){babelHelpers.inherits(BraKet,_BraKetMixin);function BraKet(){var _this;babelHelpers.classCallCheck(this,BraKet);_this=babelHelpers.possibleConstructorReturn(this,(BraKet.__proto__||Object.getPrototypeOf(BraKet)).call(this));if(!(Object.getPrototypeOf(babelHelpers.assertThisInitialized(_this))===BraKet.prototype)){_this.addTemplate()}return _this}return BraKet}(BraKetMixin(HTMLElement));export function initCE(tagName,cls,basePath,sharedTemplateTagName){if(customElements.get(tagName))return;var templateTagName=sharedTemplateTagName||tagName,templateID=lispToSnakeCase(templateTagName)+"_template",template=self[templateID];if(!template){template=document.createElement("template");template.id=templateID;template.dataset.src=basePath+"/"+templateTagName+".html";document.head.appendChild(template)}loadTemplate(template,{cls:cls,sharedTemplateTagName:sharedTemplateTagName,tagName:tagName})}export var basePath=getBasePath(BraKet.is);customElements.define(BraKet.is,BraKet);