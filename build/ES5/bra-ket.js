import{getESModuleUrl}from'./xtal-temp-workaround.js';export function getBasePath(a){var b,c=self[lispToSnakeCase(a)];if(c)b=c.href;else{var d=document.currentScript;b=d?d.src:getESModuleUrl()}return b.split('/').slice(0,-1).join('/')}function loadTemplate(a,b){var c=a.dataset.src;if(!c)b&&customElements.define(b.tagName,b.cls);else if(_cachedTemplates[c])a.innerHTML=_cachedTemplates[c],b&&customElements.define(b.tagName,b.cls);else{if(fetchInProgress[c])return void(b&&setTimeout(function(){loadTemplate(a,b)},100));fetchInProgress[c]=!0,fetch(c,{credentials:'include'}).then(function(d){d.text().then(function(d){fetchInProgress[c]=!1,_cachedTemplates[c]=d,a.innerHTML=d,b&&customElements.define(b.tagName,b.cls)})})}}export function lispToSnakeCase(a){return a.split('-').join('_')}export var BraKet=function(a){function b(){babelHelpers.classCallCheck(this,b);var a=babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));if(Object.getPrototypeOf(a)===b.prototype)for(var c=document.querySelectorAll('template[data-src]'),d=0,e=c.length;d<e;d++)loadTemplate(c[d]);else a.attachShadow({mode:'open'}),a.addTemplate();return a}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'looksLike',value:function(){}},{key:'tn',get:function(){return this.tagName.toLowerCase()}},{key:'CE',get:function(){return this._ce||(this._ce=customElements.get(this.tn)),this._ce}}],[{key:'is',get:function(){return'bra-ket'}}]),babelHelpers.createClass(b,[{key:'customizeClone',value:function(){}},{key:'initShadowRoot',value:function(){}},{key:'addTemplate',value:function(){this.CE._template||(this.CE._template={});var a=this.looksLike()||this.tn;if(!this.CE._template[a]){lispToSnakeCase(a)+'_template';this.CE._template[a]=self[lispToSnakeCase(a)+'_template']}var b=this.CE._template[a].content.cloneNode(!0);this.customizeClone(b),this.shadowRoot.appendChild(b),this.initShadowRoot()}}]),b}(HTMLElement);var _cachedTemplates={},fetchInProgress={};export function initCE(a,b,c,d){if(!customElements.get(a)){var e=d||a,f=lispToSnakeCase(e)+'_template',g=self[f];g||(g=document.createElement('template'),g.id=f,g.dataset.src=c+'/'+e+'.html',document.head.appendChild(g)),loadTemplate(g,{cls:b,sharedTemplateTagName:d,tagName:a})}}export var basePath=getBasePath(BraKet.is);customElements.define(BraKet.is,BraKet);