(function(){function lispToSnakeCase(s){return s.split("-").join("_")}const _cachedTemplates={},fetchInProgress={};function delayedLoad(template,delay,params){setTimeout(()=>{loadTemplate(template,params)},delay)}function loadTemplate(template,params){const src=template.dataset.src||template.getAttribute("href");if(src){if(_cachedTemplates[src]){template.innerHTML=_cachedTemplates[src];if(params)customElements.define(params.tagName,params.cls)}else{if(fetchInProgress[src]){if(params){setTimeout(()=>{loadTemplate(template,params)},100)}return}fetchInProgress[src]=!0;fetch(src,{credentials:"same-origin"}).then(resp=>{resp.text().then(txt=>{fetchInProgress[src]=!1;if(params&&params.preProcessor)txt=params.preProcessor.process(txt);const split=txt.split("<!---->");if(1<split.length){txt=split[1]}_cachedTemplates[src]=txt;template.innerHTML=txt;template.setAttribute("loaded","");if(params)customElements.define(params.tagName,params.cls)})})}}else{if(params&&params.tagName)customElements.define(params.tagName,params.cls)}}function qsa(css,from){return[].slice.call((from?from:this).querySelectorAll(css))}class TemplMount extends HTMLElement{constructor(){super();if(!TemplMount._alreadyDidGlobalCheck){TemplMount._alreadyDidGlobalCheck=!0;this.loadTemplatesOutsideShadowDOM();if("loading"===document.readyState){document.addEventListener("DOMContentLoaded",()=>{this.loadTemplatesOutsideShadowDOM();this.monitorHeadForTemplates()})}else{this.monitorHeadForTemplates()}}}static get is(){return"templ-mount"}getHost(){const parent=this.parentNode;return parent.host}loadTemplates(from){qsa("template[data-src]",from).forEach(externalRefTemplate=>{const ds=externalRefTemplate.dataset,ua=ds.ua;if(ua&&-1===navigator.userAgent.indexOf(ua))return;if(!ds.dumped){document.head.appendChild(externalRefTemplate.content.cloneNode(!0));ds.dumped="true"}const delay=ds.delay;if(delay){delayedLoad(externalRefTemplate,parseInt(delay))}else{loadTemplate(externalRefTemplate)}})}loadTemplatesOutsideShadowDOM(){this.loadTemplates(document)}loadTemplateInsideShadowDOM(){const host=this.getHost();if(!host)return;this.loadTemplates(host)}monitorHeadForTemplates(){this._observer=new MutationObserver(mutationsList=>{mutationsList.forEach(mutationRecord=>{mutationRecord.addedNodes.forEach(node=>{if("TEMPLATE"===node.tagName)loadTemplate(node)})})});this._observer.observe(document.head,{childList:!0})}connectedCallback(){this.loadTemplateInsideShadowDOM();if("loading"===document.readyState){document.addEventListener("DOMContentLoaded",()=>{this.loadTemplateInsideShadowDOM()})}}}TemplMount._alreadyDidGlobalCheck=!1;if(!customElements.get(TemplMount.is)){customElements.define(TemplMount.is,TemplMount)}const disabled="disabled";function XtallatX(superClass){return class extends superClass{constructor(){super(...arguments);this._evCount={}}static get observedAttributes(){return[disabled]}get disabled(){return this._disabled}set disabled(val){this.attr(disabled,val,"")}attr(name,val,trueVal){if(val){this.setAttribute(name,trueVal||val)}else{this.removeAttribute(name)}}incAttr(name){const ec=this._evCount;if(name in ec){ec[name]++}else{ec[name]=0}this.attr(name,ec[name].toString())}attributeChangedCallback(name,oldVal,newVal){switch(name){case disabled:this._disabled=null!==newVal;break;}}de(name,detail){const eventName=name+"-changed",newEvent=new CustomEvent(eventName,{detail:detail,bubbles:!0,composed:!1});this.dispatchEvent(newEvent);this.incAttr(eventName);return newEvent}_upgradeProperties(props){props.forEach(prop=>{if(this.hasOwnProperty(prop)){let value=this[prop];delete this[prop];this[prop]=value}})}}}function lispToSnakeCase(s){return s.split("-").join("_")}function BraKetMixin(superClass){return class extends superClass{static get is(){return"bra-ket"}get tn(){return this.tagName.toLowerCase()}looksLike(){}get dynamicSlots(){return null}get CE(){if(!this._ce)this._ce=customElements.get(this.tn);return this._ce}customizeClone(){}initShadowRoot(){}addTemplate(noShadow){if(!noShadow){this.attachShadow({mode:"open"})}if(!this.CE._template){this.CE._template={}}const tn=this.looksLike()||this.tn;if(!this.CE._template[tn]){lispToSnakeCase(tn)+"_template";this.CE._template[tn]=self[lispToSnakeCase(tn)+"_template"]}const clonedNode=this.CE._template[tn].content.cloneNode(!0);this.customizeClone(clonedNode);if(!noShadow){this.shadowRoot.appendChild(clonedNode);this.initShadowRoot()}else{this.appendChild(clonedNode)}this.setAttribute("shadowed",!0)}}}class BraKet extends BraKetMixin(HTMLElement){constructor(){super();if(!(Object.getPrototypeOf(this)===BraKet.prototype)){this.addTemplate()}}}function initCE(tagName,cls,basePath,sharedTemplateTagName){if(customElements.get(tagName))return;const templateTagName=sharedTemplateTagName||tagName,templateID=lispToSnakeCase(templateTagName)+"_template";let template=self[templateID];if(!template){template=document.createElement("template");template.id=templateID;template.dataset.src=basePath+"/"+templateTagName+".html";document.head.appendChild(template)}loadTemplate(template,{cls:cls,sharedTemplateTagName:sharedTemplateTagName,tagName:tagName})}class XtalSideNav extends XtallatX(BraKet){static get is(){return"xtal-side-nav"}openMenu(){this.setWidth(250)}setWidth(width){this.shadowRoot.getElementById("mySidenav").style.width=width+"px"}closeMenu(){this.setWidth(0)}initShadowRoot(){this._opener=this.shadowRoot.getElementById("opener");this._boundOpener=this.openMenu.bind(this);this._opener.addEventListener("click",this._boundOpener);this._closer=this.shadowRoot.getElementById("closebtn");this._boundCloser=this.closeMenu.bind(this);this._closer.addEventListener("click",this._boundCloser);this._slot=this.shadowRoot.getElementById("slot");this._slot.addEventListener("click",this._boundCloser)}disconnectedCallback(){this._opener.removeEventListener("click",this._boundOpener);this._closer.removeEventListener("click",this._boundCloser);this._slot.removeEventListener("click",this._boundCloser)}}initCE(XtalSideNav.is,XtalSideNav,function(){let path;const link=self.xtal_material;if(link){path=link.href}else{const cs=document.currentScript;if(cs){path=cs.src}}return path.split("/").slice(0,-1).join("/")}(XtalSideNav.is)+"/side-nav")})();